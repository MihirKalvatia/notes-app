<!DOCTYPE html>
<html>
<head>
    <title>Notes App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>


<body>


<button id="themeToggle" class="theme-toggle-btn">
    ðŸ’¡
</button>

<div class="container mt-5">
<h1 class="mb-4">Notes App</h1>

<form method="post" action="/add" class="mb-5">
    <input class="form-control mb-2" name="title" placeholder="Title" required>
    <textarea class="form-control mb-2" name="description" placeholder="Description" required></textarea>

    <div class="form-check mb-2">
        <input type="checkbox" name="important" class="form-check-input">
        <label class="form-check-label">Important</label>
    </div>

    <button class="btn btn-primary">Add Note</button>
</form>

<hr>

{% if notes %}
    {% for note in notes %}
        <div class="card mb-2 {% if note.important %}border-danger{% endif %}">
            <div class="card-body">
                <h5>{{ note.title }}</h5>
                <p>{{ note.description }}</p>
                {% if note.important %}
                    <span class="badge bg-danger">Important</span>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% else %}
    <p>No notes yet.</p>
{% endif %}

</div>

<!-- JS for mode button -->

<script>
    const toggleBtn = document.getElementById("themeToggle");
    const body = document.body;

    // Load saved theme
    if (localStorage.getItem("theme") === "dark") {
        body.classList.add("dark-mode");
        toggleBtn.textContent = "ðŸŒ™";
    } else {
        toggleBtn.textContent = "ðŸ’¡";
    }

    toggleBtn.addEventListener("click", () => {
        body.classList.toggle("dark-mode");

        if (body.classList.contains("dark-mode")) {
            localStorage.setItem("theme", "dark");
            toggleBtn.textContent = "ðŸŒ™";
        } else {
            localStorage.setItem("theme", "light");
            toggleBtn.textContent = "ðŸ’¡";
        }
    });
</script>

</body>
</html>
